#include <fstream>
#include <thread>
#include <iostream>

#include "FileHandler.h"

using namespace std;

/*
  Filsystem:
  1. Projekt fil: Innehåller namn till filer för Maps, Blocks etc
  2. Map: Innehåller namn till alla xx.map filer
  3. xx.map: Namn, Storlek, Block matrix
  4. Block: Innehåller antalet blocks samt namn för varje bild till blocken

*/

FileHandler::FileHandler(const string& project) {
  projectName = project;
  //Skapa threads för alla load funktioner
  thread t1(loadMap);
  thread t2(loadBlocks);
  //Vänta på threads med thread.join()
  t1.join();
  t2.join();
}

void FileHandler::loadMap() {
  //1. Läs in antal maps i projektet
  //2. Loop
  //2.1. Läs in första namnet
  //2.2. Läs in storlek
  //2.3. Läs in Matrix
  //2.4. Skapa Map(storlek, namn, Matrix)
  //2.5. Lägg in Map i vectorn
  ifstream input;
  input.open("Data/Maps/info.txt");
  
  if(!input) {
    cerr << "Error loading file info.txt" << endl;
  }

  
  
}
 

void FileHandler::loadBlocks() {
  //1. Läs in antalet blocks
  //2. Loop
  //2.1. Ladda in namn
  //2.2. Skapa block
  //2.3. Tilldela block bild från namn
  //2.4. Lägg in block i vectorn
}
